<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Color2Hanzi – Color Pinyin and Hanzi by Mandarin Tones</title>

    <!-- SEO -->
    <meta name="description" content="Free tool to color Mandarin Pinyin and Hanzi by tones. Make Chinese learning visual, intuitive, and effective." />
    <meta name="keywords" content="pinyin colorizer, hanzi tones, chinese learning tool, mandarin tones, tone colorizer, learn chinese with colors" />
    <meta name="robots" content="index, follow" />

    <!-- Open Graph -->
    <meta property="og:title" content="Color2Hanzi – Learn Chinese Tones Visually" />
    <meta property="og:description" content="Color Mandarin Pinyin and Hanzi by tone. Ideal for Chinese learners who want to see and memorize tones visually." />
    <meta property="og:url" content="https://color2hanzi.com" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://color2hanzi.com/assets/preview.png" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Color2Hanzi – Learn Chinese Tones Visually" />
    <meta name="twitter:description" content="Make Mandarin tone learning visual and intuitive with Color2Hanzi." />
    <meta name="twitter:image" content="https://color2hanzi.com/assets/preview.png" />

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  </head>

  <body>
    <div id="root"></div>

    <!-- Google AdSense Cookie Consent Script -->
    <script>
      (function() {
        const consent = localStorage.getItem('cookieConsent');

        if (consent === 'accepted') {
          loadAdsense();
        } else if (consent !== 'denied') {
          const banner = document.createElement('div');
          banner.id = 'cookie-banner';
          banner.innerHTML = `
            <p>
              This website uses cookies from Google AdSense to personalize ads and analyze traffic.
              For more details, see our 
              <a href="/privacy-policy.html" target="_blank" rel="noopener">Privacy Policy</a>.
            </p>
            <button id="btn-accept-cookies">Accept</button>
            <button id="btn-decline-cookies">Decline</button>
          `;

          banner.style.position = 'fixed';
          banner.style.bottom = '0';
          banner.style.left = '0';
          banner.style.width = '100%';
          banner.style.background = 'rgba(0, 0, 0, 0.85)';
          banner.style.color = '#fff';
          banner.style.padding = '15px';
          banner.style.textAlign = 'center';
          banner.style.zIndex = '10000';
          banner.style.fontSize = '0.9rem';
          banner.style.lineHeight = '1.4';
          banner.style.fontFamily = 'system-ui, -apple-system, Segoe UI, Roboto, sans-serif';
          
          banner.querySelectorAll('button').forEach(btn => {
            btn.style.margin = '0 8px';
            btn.style.padding = '6px 12px';
            btn.style.border = 'none';
            btn.style.borderRadius = '4px';
            btn.style.cursor = 'pointer';
            btn.style.fontWeight = '500';
          });

          banner.querySelector('#btn-accept-cookies').style.background = '#4CAF50';
          banner.querySelector('#btn-decline-cookies').style.background = '#f44336';
          document.body.appendChild(banner);

          document.getElementById('btn-accept-cookies').onclick = function() {
            localStorage.setItem('cookieConsent', 'accepted');
            removeBanner();
            loadAdsense();
          };

          document.getElementById('btn-decline-cookies').onclick = function() {
            localStorage.setItem('cookieConsent', 'denied');
            removeBanner();
          };
        }

        function removeBanner() {
          const banner = document.getElementById('cookie-banner');
          if (banner) banner.remove();
        }

        function loadAdsense() {
          const adsScript = document.createElement('script');
          adsScript.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9753698333518224";
          adsScript.async = true;
          adsScript.setAttribute('crossorigin', 'anonymous');
          document.head.appendChild(adsScript);
        }
      })();
    </script>

    <!-- Main App Script -->
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
